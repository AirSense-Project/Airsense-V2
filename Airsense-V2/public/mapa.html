<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AirSense</title>

    <!-- Librer√≠a Leaflet para mapas interactivos -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />

    <!-- Estilos CSS propios -->
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <!-- ========================= HEADER ========================= -->
  <!-- Encabezado global de la aplicaci√≥n -->
    <header class="header">
      <div class="header__contenido">
        <!-- T√≠tulo principal con icono -->
        <h1 class="header__titulo">üåç AirSense</h1>
        
        <!-- Bot√≥n para alternar entre modo claro y modo oscuro -->
        <button
          id="btnModoOscuro"
          class="btn-modo-oscuro"
          aria-label="Alternar modo oscuro"
        >
          <span class="icono-sol">‚òÄÔ∏è</span>
          <span class="icono-luna">üåô</span>
        </button>
      </div>
    </header>

    <!-- ========================= CONTENIDO PRINCIPAL ========================= -->
    <main>
      <div class="contenedor">
        <!-- T√≠tulo principal de la secci√≥n -->
        <h1>üó∫Ô∏è Visor geoespacial sobre la calidad del aire</h1>
        <!--  FILTROS: -->
        <div class="filtros-contenedor" role="search" aria-label="Filtros del mapa">
          <!-- Filtro de municipio -->
          <div class="filtro-item">
            <label for="selectMunicipio">üìç Municipio:</label>
            <select id="selectMunicipio" class="selector-municipio">
              <option value="">-- Selecciona --</option>
            </select>
          </div>
           <!-- Filtro de a√±o -->
          <div class="filtro-item">
            <label for="selectAnio">üìÖ A√±o:</label>
            <select id="selectAnio" class="selector-municipio" disabled>
              <option value="">-- Primero selecciona municipio --</option>
            </select>
          </div>
          <!-- Filtro de estaci√≥n -->
          <div class="filtro-item">
            <label for="selectEstacion">üè≠ Estaci√≥n:</label>
            <select id="selectEstacion" class="selector-municipio" disabled>
              <option value="">-- Primero selecciona a√±o --</option>
            </select>
          </div>
           <!-- Filtro de contaminante -->
          <div class="filtro-item">
            <label for="selectContaminante">‚öóÔ∏è Contaminante:</label>
            <select id="selectContaminante" class="selector-municipio" disabled>
              <option value="">-- Primero selecciona a√±o --</option>
            </select>
          </div>
          <!-- Bot√≥n para limpiar los filtros -->
          <div class="filtro-item filtro-item--boton">
            <label>&nbsp;</label> <!-- Espacio para alinear con los dem√°s -->
            <button id="btnLimpiarFiltros" class="btn-limpiar-filtros" 
                title="Limpiar todos los filtros" 
                aria-label="Limpiar todos los filtros y reiniciar el mapa">
              üóëÔ∏è Limpiar
            </button>
          </div>
        </div>
         <!-- ========================= VISTA PRINCIPAL ========================= -->
        <div class="vista-principal">
          
          <aside class="panel-informacion" role="region" aria-labelledby="titulo-instrucciones">
            <div id="informacionContaminantes" class="panel-instrucciones">
              <h2 id="titulo-instrucciones"> C√≥mo usar la aplicaci√≥n üåç
              </h2>
              <p>
                Explora 13 a√±os de datos hist√≥ricos (2011-2023) de calidad del
                aire en el Valle del Cauca
              </p>

              <ol class="pasos" aria-label="Instrucciones de uso del mapa">
                <li class="paso paso1">
                  <div class="paso-numero">PASO 1
                  <div class="paso-texto">
                    üìç Selecciona un <b>municipio</b> del Valle del Cauca
                  </div>
                </li>
                <li class="paso paso2">
                  <div class="paso-numero">PASO 2
                  <div class="paso-texto">
                    üéØ Haz <b>clic en una estaci√≥n</b> de monitoreo
                  </div>
                </li>
                <li class="paso paso3">
                  <div class="paso-numero">PASO 3
                  <div class="paso-texto">
                    üß™ Escoge un <b>contaminante</b> atmosf√©rico
                  </div>
                </li>
                <li class="paso paso4">
                  <div class="paso-numero">PASO 4</div>
                  <div class="paso-texto">
                    üìä Consulta <b>datos y l√≠mites OMS</b>
                  </div>
                </li>
              </ol>
              
            </div> </aside>

          <div class="vista-principal__mapa">
            
            <div id="estadoMapa" class="estado-mapa" role="status" aria-live="polite"> </div>
            
            <div id="map" class="mapa" role="application" aria-label="Mapa interactivo de calidad del aire">
            </div>

          </div> <aside id="diccionario" class="panel-diccionario" role="region" aria-labelledby="titulo-diccionario">

            <h2 class="diccionario__titulo" id="titulo-diccionario"> Diccionario de Contaminantes
            </h2>
            
            <div id="vistaLista" class="diccionario__vista diccionario__vista--activa" aria-hidden="false">
              
              <div class="diccionario__leyenda-compacta">
                <h5 class="leyenda-compacta__titulo">
                  üìä Calidad del Aire (OMS 2021)
                </h5>
                <div class="leyenda-compacta__grid">
                  <div class="leyenda-compacta__item">
                    <span class="leyenda-compacta__color leyenda-color-buena"></span>
                    <span class="leyenda-compacta__texto">Buena</span>
                  </div>
                  <div class="leyenda-compacta__item">
                    <span class="leyenda-compacta__color leyenda-color-moderada"></span>
                    <span class="leyenda-compacta__texto">Moderada</span>
                  </div>
                  <div class="leyenda-compacta__item">
                    <span class="leyenda-compacta__color leyenda-color-mala"></span>
                    <span class="leyenda-compacta__texto">Mala</span>
                  </div>
                </div>
              </div> <p class="diccionario__intro">
                Explora los principales contaminantes atmosf√©ricos monitoreados
                en el Valle del Cauca.
              </p>
              <ul id="listaContaminantes" class="diccionario__lista"></ul>
            </div>

            <div id="vistaDetalle" class="diccionario__vista" aria-hidden="true">
              
              <button id="btnVolver" class="diccionario__btn-volver" aria-label="Volver a la lista de contaminantes">
                ‚Üê Volver
              </button>
              <article
                id="contenidoDetalle"
                class="diccionario__detalle"
              ></article>
            </div>
            
          </aside>
        </div><!-- FIN vista-principal -->
      </div> <!-- FIN contenedor -->
    </main>
    
     <!-- ========================= SCRIPTS ========================= -->
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <!-- Cliente API para obtener datos -->
    <script src="apiClient.js" defer></script>
    <!-- Script javascript -->
    <script src="script.js" defer></script>
    <!-- Script Diccionario-->
    <script src="diccionario.js" defer></script>
  </body>
</html>
